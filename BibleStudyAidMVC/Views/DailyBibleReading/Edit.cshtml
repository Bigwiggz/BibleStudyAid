@model DailyBibleReadingAllViewModel
@{
    ViewData["Title"]="Daily Bible Reading";
    Layout = "~/Views/Shared/AdminLTE/_Layout.cshtml";
}

@*Styles*@
@section Styles{
    <link  rel="stylesheet" href="~/css/Views/DailyBibleReading/EditDailyBibleReading.css"/>
}


@*REFERENCES*@
<div class="row">
    <div class="col-12 card m-1">
        <div class="card-header border-primary">
            <h5>References</h5>
        </div>
        <div class="card-body">
            @if(@Model.ReferencesList.Count==0)
            {
                <p>NONE click <a asp-controller="References" asp-action="Create">here</a to add scriptures></p>
            }
            else
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                Reference
                            </th>
                            <th>Reference Description</th>
                            <th>
                                Edits
                            </th>
                        </tr>
                    </thead>
                    <tbody id="referenceTableEdits">
                        @foreach(var reference in @Model.ReferencesList)
                        {
                            <tr>
                                <td id="referenceText">@reference.Reference</td>
                                <td>@reference.Description</td>
                                <td>
                                    <i class="fas fa-edit nav-icon" data-toggle="modal" data-target="#referenceModal" data-id="@reference.Id" reference-FK="@reference.FKTableIdandName"></i>|
                                    <i class="fas fa-plus-square nav-icon" data-toggle="modal" data-target="#referenceNewModal" data-id="@reference.Id" reference-FK="@reference.FKTableIdandName"></i>|
                                    <i class="fas fa-trash-alt nav-icon" data-toggle="modal" data-target="#referenceDeleteModal" data-id="@reference.Id" reference-FK="@reference.FKTableIdandName"></i>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
        </div>
    </div>
</div>

@*SCRIPTURAL REFERENCES*@
<div class="row">
    <div class="col-12 card m-1">
        <div class="card-header border-primary">
            <h5>Scriptural References</h5>
        </div>
        <div class="card-body">
            @if(@Model.ScripturesList.Count==0)
            {
                <p>NONE click <a asp-controller="Scriptures" asp-action="Create">here</a to add scriptures></p>   
            }
            else
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>Scripture</th>
                            <th>Scripture Point</th>
                            <th>Edit</th>
                        </tr>
                    </thead>
                    <tbody id="scripturalTableEdits">
                        @foreach(var scripture in @Model.ScripturesList)
                        {
                            <tr data-toggle="modal" data-target="#scriptureModal" data-id="@scripture.Id">
                                <td>@scripture.Scripture</td>
                                <td>@scripture.Description</td>
                                <td>
                                    <i class="fas fa-edit nav-icon" data-toggle="modal" data-target="#scriptureEditModal" data-id="@scripture.Id" scripture-FK="@scripture.FKTableIdandName"></i>|
                                    <i class="fas fa-plus-square nav-icon" data-toggle="modal" data-target="#scriptureNewModal" data-id="@scripture.Id" scripture-FK="@scripture.FKTableIdandName"></i>|
                                    <i class="fas fa-trash-alt nav-icon" data-toggle="modal" data-target="#scriptureDeleteModal" data-id="@scripture.Id" scripture-FK="@scripture.FKTableIdandName"></i>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>     
            }
        </div>
    </div>
</div>

<a asp-controller="DailyBibleReading" asp-action="Details" asp-route-id="@Model.Id">See Details</a>
@*MODAL LIST*@

@*REFERENCES MODAL*@

<!--Edit Reference Modal-->
<div class="modal fade" id="referenceModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ModalLabel">Edit Reference</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form asp-controller="References" asp-action="Edit" method="post">
            <input type="hidden" id="referenceFKId" name="FKTableIdandName" />
            <input type="hidden" id="referenceId" name="Id">
            <div class="form-group">
                <label for="referenceCitation">References</label>
                <input type="text"  name="Reference" class="form-control" id="referenceCitation" aria-describedby="referenceCitation">
            </div>
            <div class="form-group">
                <label for="referenceDescription">Description</label>
                <textarea type="text" class="form-control" name="Description" id="referenceDescription"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!--New Reference Modal-->
<div class="modal fade" id="referenceNewModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ModalLabelNew">Create Reference</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form asp-controller="References" asp-action="Create" method="post">
            <input type="hidden" id="referenceNewFKId" name="FKTableIdandName" />
            <div class="form-group">
                <label for="referenceCitation">References</label>
                <input type="text"  name="Reference" class="form-control" id="referenceNewCitation" aria-describedby="referenceCitation">
            </div>
            <div class="form-group">
                <label for="referenceDescription">Description</label>
                <textarea type="text" class="form-control" name="Description" id="referenceNewDescription"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!--Reference Soft Delete Modal-->
<div class="modal fade" id="referenceDeleteModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ModalLabelDelete">Delete Reference!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <h4 class="text-danger">Are you sure you want to delete this Reference?</h4>
          <dl class"row">
              <dt class="col-sm-4">Reference</dt>
              <dd class="col-sm-8" id="referenceCitationDelete"></dd>
              <dt class="col-sm-4">Description</dt>
              <dd class="col-sm-8" id="referenceDescriptionDelete"></dd>
          </dl>
        <form asp-controller="References" asp-action="Edit" method="post">
            <input type="hidden" id="referenceDeleteId" name="Id">
            <input type="hidden" id="referenceDeleteBoolean" name="IsDeleted" value=true>
            <button type="submit" class="btn btn-danger">Click Here to Delete Reference</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close and Not Delete</button>
      </div>
    </div>
  </div>
</div>


@*Scripture Modal*@
<!--Scripture Edit Modal-->
@*TODO:Finish Scripture Edit Modal*@
<!--Scripture New Modal-->
<div class="modal fade" id="scriptureNewModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ModalLabelScriptureNew">Create Scripture Reference</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form asp-controller="Scriptures" asp-action="Create" method="post">
            <div class="form-group">
                <label for="SelectBook">Select Book</label>
                <select class="form-control" id="SelectBook">
                <option disabled>Choose...</option>
                </select>
            </div>
            <div class="form-group">
                <label for="SelectChapter">Select Chapter</label>
                <select class="form-control" id="SelectChapter" disabled>
                    <option disabled>Choose...</option>
                </select>
            </div>
            <div class="form-group">
                <label for="SelectVerse">Select Verse</label>
                <select class="form-control" id="SelectVerse" disabled>
                    <option disabled>Choose...</option>
                </select>
            </div>
            <div class="form-group">
                <label for="SelectVerseGroup">Select Verse To...</label>
                <select class="form-control" id="SelectVerseGroup" disabled>
                <option disabled>Choose...</option>
                </select>
            </div>
            <input type="hidden" id="scriptureNewFKId" name="FKTableIdandName" />
            <input type="hidden" id="scriptureNewBook" name="Book" />
            <input type="hidden" id="scriptureNewChapter" name="Chapter" />
            <input type="hidden" id="scriptureNewVerse" name="Verse" />

            <label>Reference Scripture</label>
            <p name="Scripture" id="scriptureNewScripture">Scripture is Here</p>

            <div class="form-group">
                <label for="scriptureDescription">Description</label>
                <textarea type="text" class="form-control" name="Description" id="scriptureNewDescription"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!--Scripture Soft Delete Modal-->

@*TODO:Finish Scripture Soft Delete Modal*@


@*Scripts Section*@
@section Scripts{
    <script src="~/js/Helpers/ScriptureValidator/BibleScriptureDoc.js"></script>
    <script src="~/js/Helpers/ScriptureValidator/BibleScriptureLogic.js"></script>
    <script src="~/js/Views/DailyBibleReading/EditDailyBibleReading.js"></script>
}
